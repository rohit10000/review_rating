// Copyright (c) Microsoft Corporation.
// Licensed under the MIT license.
import { __awaiter } from "tslib";
const API_KEY_HEADER_NAME = "Ocp-Apim-Subscription-Key";
/**
 * This class is used to authenticate to Text Analytics using an API Key retrieved
 * from the Azure portal. Sometimes this is referred to as a "Subscription Key".
 */
export class TextAnalyticsApiKeyCredential {
    /**
     * Creates a new apiKeyCredential object.
     *
     * @param {string} apiKey   The Text Analytics API key for authentication.
     */
    constructor(apiKey) {
        this.updateKey(apiKey);
    }
    /**
     * Updates the API Key used for authentication. Use this method to roll credentials.
     * @param apiKey The Text Analytics API key for authentication.
     */
    updateKey(apiKey) {
        if (!apiKey || typeof apiKey !== "string") {
            throw new Error("apiKey must be a non-empty string");
        }
        this.apiKey = apiKey;
    }
    /* eslint-disable @azure/azure-sdk/ts-use-interface-parameters */
    /**
     * Signs a request with the provided API Key.
     *
     * @param {WebResource} webResource The WebResource to be signed.
     * @returns {Promise<WebResource>} The signed request object.
     */
    signRequest(webResource) {
        return __awaiter(this, void 0, void 0, function* () {
            if (!webResource) {
                throw new Error("webResource cannot be null or undefined.");
            }
            webResource.headers.set(API_KEY_HEADER_NAME, this.apiKey);
            return webResource;
        });
    }
}
/* eslint-enable @azure/azure-sdk/ts-use-interface-parameters */
//# sourceMappingURL=textAnalyticsApiKeyCredential.js.map